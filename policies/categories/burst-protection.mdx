---
title: "Burst protection"
description: "Circuit breakers for logs that explode during failures"
icon: "shield-halved"
iconType: "duotone"
---

Protection against catastrophic log volume during outages. When a dependency fails, every request that touches it generates a log. One database going offline can produce millions of timeout errors in minutes. A message queue backing up can flood your logs with retry attempts. A certificate expiring can trigger endless TLS handshake failures.

This isn't about signal quality. It's infrastructure protection. Uncontrolled bursts crash collectors, back up queues, overwhelm pipelines, and explode costs.

## The problem

A downstream system fails. Every request that touches it fails. Every failure logs an error. You get a million identical logs in an hour—all real, all symptoms of one problem.

Traditional rate limiting is a blunt instrument. It caps your entire log stream, so you lose everything during a spike—including the business events you actually need.

Tero does it per event. Infrastructure symptoms get circuit breakers. Business events don't. When something breaks:

- Infrastructure errors hit their limit, get sampled → pipeline stays healthy
- Business events flow through normally → you see every customer impact

Surgical protection. You stop the flood without losing visibility into what matters.

## Which logs need protection

The test: **could this log flood when something breaks?**

**Needs protection** — infrastructure symptoms. Database timeouts, connection refused, service unavailable, TLS failures, queue backpressure, disk full, memory pressure. When the underlying system fails, every request that touches it generates a log. Volume is unbounded.

**Doesn't need protection** — business events. Payment failures, order completions, user signups, login attempts. Volume is bounded by real customer traffic. Even on a bad day, you can't get a million payment failures unless you have a million customers trying to pay.

<Tabs>
  <Tab title="Needs protection">
    ```json
    {
      "severity_text": "ERROR",
      "body": "Connection to postgres failed: timeout",
      "service.name": "order-service",
      "database": "products"
    }
    ```
    Infrastructure failures generate unbounded volume. One connectivity issue, repeated endlessly.
  </Tab>
  <Tab title="Doesn't need protection">
    ```json
    {
      "severity_text": "ERROR",
      "body": "Payment declined",
      "service.name": "checkout-service",
      "user_id": "usr_123",
      "error": "card_expired"
    }
    ```
    Each payment failure is a unique customer with a unique problem. Keep all of them.
  </Tab>
</Tabs>

## How it works

Tero analyzes each log event and asks: if something breaks, could this flood?

For events at risk of bursting, Tero generates a policy with a default rate limit of 100/second. High enough to preserve signal during normal operation, low enough to prevent catastrophic floods.

```yaml
id: burst-protection-postgres-timeout-order-service
name: Burst protection for postgres timeout in order-service
description: Rate limit infrastructure errors that flood during outages.
log:
  match:
    - resource_attribute: service.name
      exact: order-service
    - log_field: body
      regex: "^Connection to postgres failed"
  rate_limit: 100/s
```

During normal operation, you probably see a handful of these per minute. The limit never triggers. During an outage, when you'd otherwise get 10,000/second, the circuit breaker kicks in.

## What bursts can do

Unchecked log floods cause real damage:

- **Crash collectors** — OTel collectors have memory limits. A flood can OOM them.
- **Back up queues** — Kafka partitions, internal buffers fill up and start dropping unrelated data.
- **Overwhelm pipelines** — Downstream processors can't keep up. Latency spikes, then failures cascade.
- **Explode costs** — Observability pricing is volume-based. A 10-minute outage can cost more than a month of normal operation.

Burst protection stops this at the source—before the flood reaches your pipeline.

## Recommended enforcement

<Card title="Enforce at edge" icon="server" href="/policies/enforcement/edge" horizontal>
  Rate limit before data leaves your infrastructure. The flood never reaches your pipeline.
</Card>

This is pure infrastructure protection. The edge is the right place—stop the flood as close to the source as possible.
