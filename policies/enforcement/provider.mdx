---
title: "Enforce in provider"
description: "Configure exclusion filters and routing rules via API"
icon: "cloud"
iconType: "duotone"
---

<Badge color="green" icon="bolt">Immediate</Badge> <Badge color="green" icon="rotate-left">Reversible</Badge>

Configure exclusion filters and routing rules directly in your observability provider. No deployment required. Tero uses the provider's API to apply changes.

<Note>
Use this when you don't have [Edge](/edge) deployed or want to configure provider-specific features like index routing.
</Note>

## How it works

Tero connects to your provider's API and configures filters, pipelines, or routing rules. The provider applies these rules as data arrives. You don't deploy anything. Tero manages the configuration remotely.

<Tabs>
  <Tab title="Datadog">
    <Frame>
      <img src="/images/how-it-works-datadog-4-in-provider.svg" alt="Enforce in provider with Datadog" />
    </Frame>
    
    Tero configures [exclusion filters](https://docs.datadoghq.com/logs/log_configuration/indexes/#exclusion-filters) and [pipelines](https://docs.datadoghq.com/logs/log_configuration/pipelines/) via the Datadog API.
  </Tab>
  <Tab title="Splunk">
    <Frame>
      <img src="/images/how-it-works-splunk-4-in-provider.svg" alt="Enforce in provider with Splunk" />
    </Frame>
    
    Tero configures index routing and transforms via the Splunk API.
  </Tab>
  <Tab title="OpenTelemetry">
    <Frame>
      <img src="/images/how-it-works-otel-4-in-infrastructure.svg" alt="Enforce in provider with OpenTelemetry" />
    </Frame>
    
    For OTel backends, Tero configures provider-specific filtering where supported.
  </Tab>
</Tabs>

## Setup

Connect your provider with write access:

<CardGroup cols={2}>
  <Card title="Datadog" icon="dog" href="/integrations/datadog">
    Connect with Standard role or custom role with write permissions.
  </Card>
  <Card title="Splunk" icon="bolt" href="/integrations/splunk">
    Connect with admin access to configure indexes and transforms.
  </Card>
</CardGroup>

## Example

Tero identifies that `checkout-api` is emitting 2.3 million health check logs per day. The logs have never been queried and don't appear in any dashboard or alert.

You approve the policy and select "Enforce in provider." Tero configures an exclusion filter in Datadog:

```
Filter name: tero-drop-health-checks-checkout-api
Query: service:checkout-api http.target:/health* http.status_code:200
```

The filter takes effect within minutes. Matching logs stop being indexed. You still see them in Live Tail (they reach Datadog), but they don't count against your indexed volume.

Your data quality dashboard updates as Datadog reports the change. If something goes wrong, disable the policy and Tero removes the exclusion filter. Logs index normally again.

## When to use

Enforce in provider works best when:

- You don't have Edge deployed and want quick wins
- You need provider-specific features like index routing
- Egress costs aren't a concern
- You want to start immediately without deploying infrastructure

If you need maximum control, egress savings, or sub-millisecond latency, use [Enforce at edge](/policies/enforcement/edge) instead.
